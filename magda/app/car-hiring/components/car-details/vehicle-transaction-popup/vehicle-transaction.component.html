<main>
  <section>
    <div class="modal-dialog modal-dialog-scrollable modal-lg" ngxDraggableDom="true" role="document">
      <div class="modal-content">
        <div class="modal-header" style="background-color:black ">
          <button type="button" class="model-header-button" (click)="showSearchByType=!showSearchByType"   id="searchByType">search By Type</button>
          <button type="button" class="model-header-button" (click)="showSearch=!showSearch"   id="search">search By plateNum OR Type</button>
          <button type="button" class="model-header-button" (click)="close()" data-dismiss="modal" aria-label="Close"  id="transactionPopUpClose">close</button>
        </div>
        <div class="modal-body" style="background-color: white;min-height:fit-content">
          <div *ngIf="showSearchByType" class="row" style="margin: 0 3px">
            <button type="button" STYLE="margin-right:3px" class="btn btn-link col-md-2">
              <select (change)="getVehicleByType()"
                      style="font-size: small;background-color:white;color: blue;cursor: pointer;height: 25px"
                      class="form-control form-control-sm"
                      [(ngModel)]="type" name="carsOption"
                      ngModel required>
                <option style="color: blue; font-size: small" *ngFor="let car of vehiclesType"
                        [value]="car">{{ car }}</option>
              </select>
            </button>

            <div (mouseenter)="selectDropDown=!selectDropDown"
                 class="col-md-6 dropdown dropdown-toggle "
                 style="width: fit-content;margin: 0 80px" data-toggle="dropdown">
              <input class="form-control" type="search" placeholder="select vehicle" aria-label="vehicle" [(ngModel)]="selectedVehicleName">
              <ul class="dropdown-menu " [ngClass]="{show:selectDropDown}">
                <li *ngFor="let v of vehiclesByType;let i=index" class="text-center" #_i>
                  <a style="color:blue;cursor: pointer" (click)="closeSelectDropDown(v)">{{ v.plateNumber}}
                    <img alt="" class="avatar" height="30" width="30" [src]="path+v.imageName"></a>
                </li>
              </ul>
            </div>

          </div>

          <div *ngIf="showSearch" class="row" style="margin: 0 3px">
            <div class=" row dropdown" style="width: fit-content">
              <input (mouseenter)="dorpDownSearchInput=!dorpDownSearchInput" (keyup)="getVehicleByTypeOrPlateNumber(search.value)"
                     class="dropdown-toggle form-control mr-sm-2" data-toggle="dropdown" #search
                     type="search" placeholder="Search" aria-label="Search">
              <ul class="dropdown-menu " [ngClass]="{show:dorpDownSearchInput}">
                <li *ngFor="let v of vehiclesForSearch;let i=index" class="text-center" #_i>
                  <a style="color:blue;" (click)="closeInputDropDown()">{{ v.plateNumber}}
                    <img alt="" class="avatar" height="30" width="30" [src]="path+v.imageName"></a>
                </li>
              </ul>
            </div>
            <button class="search" (click)="getVehicleByTypeOrPlateNumber(search.value)">search <i class=" fa fa-search "></i></button>
          </div>

          <div  *ngIf="!showSearch&&!showSearchByType">
            <div class="row">
              <div class="input-group col-md-6" style="text-align: center">
                <label> start date</label>
              </div>
              <div class="input-group col-md-6" style="text-align: center">
                <label>end date</label>
              </div>
            </div>
            <div class="row">
              <div class="input-group col-md-6" style="text-align: center">
                <input type="date" class="search-query form-control " placeholder="start date" name="startDate"
                       [(ngModel)]="startDate"/>
              </div>
              <div class="input-group col-md-6" style="text-align: center">
                <input type="date" class="search-query form-control " placeholder="end date" name="endDate"
                       [(ngModel)]="endDate"/>
              </div>
            </div>
          </div>
            <hr>
        <div>
           <div class="row but">
              <button type="button" (click)="bookMe()"  class="btn btn-link"><i class="fa fa-arrow-left" aria-hidden="true" ></i> Book <i
                class="fa fa-address-book" aria-hidden="true" ></i>
              </button>
              <button type="button" (click)="getAvailableVehicles()"  class="btn btn-link">
                <i class="fa fa-edit" aria-hidden="true" ></i>AVAILABLE VEHICLES <i class="fa fa-align-justify" aria-hidden="true" ></i>
              </button>
              <button type="button"
                      class="btn btn-link">
                <i class="fa fa-eye" aria-hidden="true"></i>SEARCH <i class="fa fa-search" aria-hidden="true"></i>
              </button>
              <button  type="button" class="btn btn-link"><i class="fa fa-angle-left" aria-hidden="true" ></i> MORE OPTIONS <i class="fa fa-eye" aria-hidden="true"></i>
              </button>
             <button class="dropdown dropdown-toggle btn btn-outline-success" type="button" (click)="openPrivacy=!openPrivacy"><span class="input-group-text" style="background-color: green;border-color: blue;margin: 4px"><i
               class="fa fa-adjust" style="font-size: large;color:orangered;border-color: blue">delete</i></span>
               <ul class="dropdown-menu " [ngClass]="{show:openPrivacy}"
                   style="background-color: navy;color:#f91c1e;width: 220px">
                 <div class="row" style="margin:0 3px"><button class="btn btn-success"(click)="deleteAllVehicle()"> delete all vehicles<i class="fa fa-eye" style="color:lime;font-size:x-large "> </i></button></div>
                 <div class="row" style="margin:0 3px"><button class="btn btn-success" (click)="deleteAllVehicleNull()"> delete nulls plateNum<i class="fa fa-eye" style="color:lime;font-size:x-large "> </i></button></div>
               </ul>
             </button>
          </div>



          </div>
        </div>
        <div class="modal-footer" style="background-color: black"></div>
      </div>
    </div>
  </section>
</main>
